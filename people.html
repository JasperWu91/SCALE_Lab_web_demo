<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>People · SCALE Lab</title>
  <meta name="color-scheme" content="light dark" />
  <link rel="stylesheet" href="assets/style.css" />
  <style>
    /* Clean list-style people layout */

    .people-section {
      margin: 32px 0;
    }

    /* section title: strong divider */
    .section-header {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 12px;
      padding-bottom: 6px;
      border-bottom: 2px solid var(--fg); /* 深色底線區隔 */
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-count {
      background: var(--primary);
      color: #fff;
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 0.75rem;
    }

    /* 一般說明文字稍微拉開行距 */
    .lead {
      margin-bottom: 24px;
      line-height: 1.6;
    }

    /* 單一成員（無卡片框，只用底線） */
    .people-grid {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .people-item {
      padding: 16px 0;
      border-bottom: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .people-item:last-child {
      border-bottom: none;
    }

    /* name + year */
    .person-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      flex-wrap: wrap;
      gap: 8px;
    }

    .person-name {
      font-size: 1rem;
      font-weight: 700;
      color: var(--fg);
      margin: 0;
    }

    .person-name .english-name {
      color: var(--muted);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .person-year {
      color: var(--muted);
      font-size: 0.8rem;
      white-space: nowrap;
    }

    /* label/value rows */
    .person-info {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .info-label {
      font-weight: 600;
      color: var(--fg);
      margin-right: 4px;
    }

    .person-email {
      color: var(--fg);
      text-decoration: none;
    }

    .person-email:hover {
      text-decoration: underline;
    }

    /* about text (目前沒用到，可以保留樣式以後需要時再開) */
    .person-about {
      font-size: 0.85rem;
      color: var(--fg);
      margin-top: 4px;
      line-height: 1.5;
    }

    /* tags */
    .person-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      margin-top: 4px;
    }

    .person-tag {
      background: none;
      border: 1px solid var(--border);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.7rem;
      color: var(--muted);
    }

    .person-company {
      background: none;
      border: 1px solid var(--border);
      color: var(--muted);
      padding: 2px 6px;
      font-size: 0.7rem;
      border-radius: 4px;
    }


    .empty-section {
      padding: 20px 0;
      text-align: center;
      color: var(--muted);
      font-style: italic;
      border-bottom: 1px dashed var(--border);
    }

    /* responsive 小螢幕只需要微調文字大小就好 */
    @media (max-width: 640px) {
      .section-header {
        font-size: 1.2rem;
      }

      .person-name {
        font-size: 0.95rem;
      }

      .person-about {
        font-size: 0.8rem;
      }
    }
  </style>
</head>
<body id="top" data-page="people">
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="assets/images/logo.svg" alt="EECS Lab Logo" class="logo">
        <a href="index.html" aria-label="Go to home">SCALE Lab</a>
      </div>
      
      <nav>
        <button class="hamburger" aria-label="Open navigation menu" id="menuBtn">☰</button>
        <ul id="menu">
          <li><a data-page="research" href="research.html">Research</a></li>
          <li><a data-page="advisor" href="advisor.html">Advisor</a></li>
          <li><a data-page="publication" href="publication.html">Publication</a></li>
          <li><a data-page="people" href="people.html">People</a></li>
          <li><a data-page="contact" href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>
  
  <section class="section">
    <div class="container">
      <h2>People</h2>
      <p class="lead">Our research team members and their career destinations.</p>

      <!-- PhD Students Section -->
      <div class="people-section" id="phdSection">
        <h3 class="section-header">
          Ph.D. Students
          <span class="section-count" id="phdSectionCount">0</span>
        </h3>
        <div class="people-grid" id="phdList">
          <div class="empty-section">Loading Ph.D. student data...</div>
        </div>
      </div>
      
      <!-- MS Students Section -->
      <div class="people-section" id="msSection">
        <h3 class="section-header">
          M.S. Students
          <span class="section-count" id="msSectionCount">0</span>
        </h3>
        <div class="people-grid" id="msList">
          <div class="empty-section">Loading M.S. student data...</div>
        </div>
      </div>
      
      <!-- Alumni Section -->
      <div class="people-section" id="alumniSection">
        <h3 class="section-header">
          Alumni
          <span class="section-count" id="alumniSectionCount">0</span>
        </h3>
        <div class="people-grid" id="alumniList">
          <div class="empty-section">Loading alumni data...</div>
        </div>
      </div>
    </div>
  </section>

<script>
// Mobile menu toggle
const menuBtn = document.getElementById('menuBtn');
const menu = document.getElementById('menu');
menuBtn?.addEventListener('click', () => menu.classList.toggle('open'));

// Active nav by data-page
const page = document.body.dataset.page;
if (page) {
  const link = document.querySelector(`nav a[data-page="${page}"]`);
  link?.classList.add('active');
}

let peopleCache = [];

function fixEncoding(text) {
  if (typeof text !== 'string') return text;
  return text
    .replace(/Ã¢â‚¬'/g, '-')
    .replace(/Ã¢â‚¬"/g, '—')
    .replace(/Ã‚Â·/g, '·')
    .replace(/Ã¢â‚¬Â¦/g, '…');
}

function renderPersonItem(person) {
  const hasChineseName = person.name.includes('陳冠霖') || /[\u4e00-\u9fff]/.test(person.name);
  let nameDisplay = fixEncoding(person.name);
  
  if (hasChineseName && person.name.includes('Brian Chen')) {
    nameDisplay = `陳冠霖 <span class="english-name">Brian Chen</span>`;
  }

  return `
    <div class="people-item">
      <div class="person-header">
        <h3 class="person-name">${nameDisplay}</h3>
        ${person.year ? `<div class="person-year">${fixEncoding(person.year)}</div>` : ''}
      </div>

      ${person.institute ? `
        <div class="person-info">
          <span class="info-label">Institute:</span>
          <span>${fixEncoding(person.institute)}</span>
        </div>` : ''}

      ${person.email ? `
        <div class="person-info">
          <span class="info-label">Email:</span>
          <a href="mailto:${person.email}" class="person-email">${person.email}</a>
        </div>` : ''}

      <div class="person-tags">
        ${(person.tags || []).map(t => `<span class="person-tag">${fixEncoding(t)}</span>`).join('')}
        ${person.company ? `<span class="person-company">${fixEncoding(person.company)}</span>` : ''}
      </div>
    </div>
  `;
}

function renderPeopleByRole() {
  const roles = ['phd', 'ms', 'alumni'];

  roles.forEach(role => {
    const people = peopleCache.filter(p => p.role === role);
    const container = document.getElementById(`${role}List`);
    const countElement = document.getElementById(`${role}SectionCount`);
    const sectionElement = document.getElementById(`${role}Section`);

    if (!people.length) {
      container.innerHTML = '<div class="empty-section">No members in this category.</div>';
      countElement.textContent = '0';
      sectionElement.style.display = 'none';
    } else {
      container.innerHTML = people.map(renderPersonItem).join('');
      countElement.textContent = people.length;
      sectionElement.style.display = 'block';
    }
  });
}

async function loadSiteData() {
  try {
    const res = await fetch('assets/site-data.json', {cache: 'no-store'});
    if (res.ok) {
      const data = await res.json();
      return data;
    }
    throw new Error(`HTTP ${res.status}`);
  } catch (err) {
    console.warn('Failed to load external JSON, using fallback data:', err);

    return {
      "people": [
        {
          "name": "Prof. Po-Tsang Huang",
          "role": "faculty",
          "about": "PI — Sustainable Circuits & Systems, 3D-IC Design, Energy-Efficient VLSI, Memory-Centric Computing.",
          "company": "NCTU/NYCU",
          "institute": "International College of Semiconductor Technology (ICST)",
          "email": "bughuang@nctu.edu.tw",
          "tags": ["PI", "Advisor"]
        },
        {
          "name": "Dr. Ada Wang",
          "role": "faculty",
          "about": "Co-PI — Emerging Memories, 3D-IC power delivery.",
          "company": "NCTU/NYCU",
          "institute": "International College of Semiconductor Technology (ICST)",
          "email": "adawang@nctu.edu.tw",
          "tags": ["Co-PI", "3D-IC"]
        },
        {
          "name": "Chen, Yu-Ting",
          "role": "phd",
          "about": "Carbon-intensity-aware scheduling for accelerator clusters.",
          "year": "2022/09 - 2025",
          "institute": "Institute of Computer Science and Engineering, NYCU",
          "email": "yutin.cs10@nycu.edu.tw",
          "tags": ["carbon-aware", "scheduling"]
        },
        {
          "name": "Lin, Bo-Han",
          "role": "phd",
          "about": "3D-SRAM compute-near-memory for CNN inference.",
          "year": "2021/09 - 2026",
          "institute": "Institute of Computer Science and Engineering, NYCU",
          "email": "bohan.cs09@nycu.edu.tw",
          "tags": ["3D-SRAM", "CIM"]
        },
        {
          "name": "陳冠霖 Brian Chen",
          "role": "ms",
          "about": "Machine learning accelerator design with emerging memory technologies.",
          "year": "2024/09 - now",
          "institute": "Institute of Multimedia Engineering, NYCU",
          "email": "brian.cs13@nycu.edu.tw",
          "tags": ["ML-accelerator", "emerging-memory"]
        },
        {
          "name": "Lee, Jun-Peng",
          "role": "ms",
          "about": "LUT-NN quantization & compiler flow.",
          "year": "2023/09 - 2024",
          "institute": "Institute of Computer Science and Engineering, NYCU",
          "email": "junpeng.cs12@nycu.edu.tw",
          "tags": ["LUT-NN", "QAT"]
        },
        {
          "name": "Wu, Cindy",
          "role": "ms",
          "about": "Fault-tolerant DRAM controller for TSV 3D.",
          "year": "2023/09 - 2024",
          "institute": "Institute of Computer Science and Engineering, NYCU",
          "email": "cindy.cs12@nycu.edu.tw",
          "tags": ["DRAM", "fault-tolerant"]
        },
        {
          "name": "Huang, I-Chun",
          "role": "alumni",
          "about": "M.S. 2020 — ASIC design and verification for memory controllers.",
          "year": "2018/09 - 2020/06",
          "institute": "Institute of Computer Science and Engineering, NYCU",
          "company": "MediaTek (Design Engineer)",
          "tags": ["ASIC", "industry"]
        },
        {
          "name": "Chen, Mei-Lin",
          "role": "alumni",
          "about": "M.S. 2019 — 3D-SRAM design for neural network accelerators.",
          "year": "2017/09 - 2019/06",
          "institute": "Institute of Computer Science and Engineering, NYCU",
          "company": "Stanford University (Ph.D. Student)",
          "tags": ["PhD", "Systems"]
        }
      ]
    };
  }
}

function initializePage() {
  loadSiteData()
    .then(data => {
      peopleCache = data.people || [];
      renderPeopleByRole();
    })
    .catch(err => {
      console.error('Failed to load data:', err);
      ['phdList', 'msList', 'alumniList'].forEach(id => {
        document.getElementById(id).innerHTML = 
          '<div class="empty-section">Failed to load people data.</div>';
      });
    });

  // Footer year
  const yearElement = document.getElementById('yearNow');
  if (yearElement) yearElement.textContent = new Date().getFullYear();
}

document.addEventListener('DOMContentLoaded', initializePage);
</script>

  <footer>
    <div class="container footgrid">
      <div>
        <div class="brand" style="margin-bottom:8px">
          <span class="dot"></span>
          <strong>Sustainable Circuits and Architectures for Layered Eco-chips Lab</strong>
        </div>
        <div class="muted">
          © <span id="yearNow"></span> Sustainable Circuits and Architectures for Layered Eco-chips Lab. All rights reserved.
        </div>
      </div>
      <div class="right"><a class="chip" href="#top">→ Back to Top</a></div>
    </div>
  </footer>
</body>
</html>
